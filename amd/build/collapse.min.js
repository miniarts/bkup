define(["exports","./util"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){var t="collapse",r="bs.collapse",l=e.fn[t],o={toggle:!0,parent:""},u={toggle:"boolean",parent:"string"},g={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},f={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},h={WIDTH:"width",HEIGHT:"height"},d={ACTIVES:".panel > .in, .panel > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},c=function(){function l(t,i){n(this,l),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(i),this._triggerArray=e.makeArray(e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]')),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return s(l,[{key:"toggle",value:function(){e(this._element).hasClass(f.IN)?this.hide():this.show()}},{key:"show",value:function(){var t=this;if(!this._isTransitioning&&!e(this._element).hasClass(f.IN)){var n=void 0,a=void 0;if(this._parent&&(n=e.makeArray(e(d.ACTIVES)),n.length||(n=null)),!(n&&(a=e(n).data(r))&&a._isTransitioning)){var s=e.Event(g.SHOW);if(e(this._element).trigger(s),!s.isDefaultPrevented()){n&&(l._jQueryInterface.call(e(n),"hide"),a||e(n).data(r,null));var o=this._getDimension();e(this._element).removeClass(f.COLLAPSE).addClass(f.COLLAPSING),this._element.style[o]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&e(this._triggerArray).removeClass(f.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){e(t._element).removeClass(f.COLLAPSING).addClass(f.COLLAPSE).addClass(f.IN),t._element.style[o]="",t.setTransitioning(!1),e(t._element).trigger(g.SHOWN)};if(!i.default.supportsTransitionEnd())return void u();var h=o[0].toUpperCase()+o.slice(1),c="scroll"+h;e(this._element).one(i.default.TRANSITION_END,u).emulateTransitionEnd(600),this._element.style[o]=this._element[c]+"px"}}}}},{key:"hide",value:function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(f.IN)){var n=e.Event(g.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var a=this._getDimension(),s=a===h.WIDTH?"offsetWidth":"offsetHeight";this._element.style[a]=this._element[s]+"px",i.default.reflow(this._element),e(this._element).addClass(f.COLLAPSING).removeClass(f.COLLAPSE).removeClass(f.IN),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&e(this._triggerArray).addClass(f.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var r=function(){t.setTransitioning(!1),e(t._element).removeClass(f.COLLAPSING).addClass(f.COLLAPSE).trigger(g.HIDDEN)};if(this._element.style[a]=0,!i.default.supportsTransitionEnd())return void r();e(this._element).one(i.default.TRANSITION_END,r).emulateTransitionEnd(600)}}}},{key:"setTransitioning",value:function(e){this._isTransitioning=e}},{key:"dispose",value:function(){e.removeData(this._element,r),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function(n){return n=e.extend({},o,n),n.toggle=Boolean(n.toggle),i.default.typeCheckConfig(t,n,u),n}},{key:"_getDimension",value:function(){return e(this._element).hasClass(h.WIDTH)?h.WIDTH:h.HEIGHT}},{key:"_getParent",value:function(){var t=this,n=e(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return e(n).find(i).each(function(e,n){t._addAriaAndCollapsedClass(l._getTargetFromElement(n),[n])}),n}},{key:"_addAriaAndCollapsedClass",value:function(t,n){if(t){var i=e(t).hasClass(f.IN);t.setAttribute("aria-expanded",i),n.length&&e(n).toggleClass(f.COLLAPSED,!i).attr("aria-expanded",i)}}}],[{key:"_getTargetFromElement",value:function(t){var n=i.default.getSelectorFromElement(t);return n?e(n)[0]:null}},{key:"_jQueryInterface",value:function(t){return this.each(function(){var n=e(this),i=n.data(r),s=e.extend({},o,n.data(),"object"===(void 0===t?"undefined":a(t))&&t);if(!i&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),i||(i=new l(this,s),n.data(r,i)),"string"==typeof t){if(void 0===i[t])throw new Error('No method named "'+t+'"');i[t]()}})}},{key:"VERSION",get:function(){return"4.0.0-alpha.4"}},{key:"Default",get:function(){return o}}]),l}();return e(document).on(g.CLICK_DATA_API,d.DATA_TOGGLE,function(t){t.preventDefault();var n=c._getTargetFromElement(this),i=e(n).data(r),a=i?"toggle":e(this).data();c._jQueryInterface.call(e(n),a)}),e.fn[t]=c._jQueryInterface,e.fn[t].Constructor=c,e.fn[t].noConflict=function(){return e.fn[t]=l,c._jQueryInterface},c}(jQuery);e.default=r});